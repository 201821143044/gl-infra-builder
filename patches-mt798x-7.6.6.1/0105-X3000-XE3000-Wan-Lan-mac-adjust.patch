From d981b15b5366f8a75ad929bb0751b8daf62d9cd8 Mon Sep 17 00:00:00 2001
From: Li Zhang <li.zhang@gl-inet.com>
Date: Thu, 22 Dec 2022 18:01:15 +0800
Subject: [PATCH] X3000/XE3000: Wan/Lan mac adjust

Signed-off-by: Li Zhang <li.zhang@gl-inet.com>
---
 target/linux/mediatek/mt7981/base-files/etc/board.d/02_network | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/target/linux/mediatek/mt7981/base-files/etc/board.d/02_network b/target/linux/mediatek/mt7981/base-files/etc/board.d/02_network
index ea22d67..c2a22e4 100755
--- a/target/linux/mediatek/mt7981/base-files/etc/board.d/02_network
+++ b/target/linux/mediatek/mt7981/base-files/etc/board.d/02_network
@@ -46,10 +46,13 @@ mediatek_setup_macs()
 		wan_mac=$(mtd_get_mac_binary $part_name 0x0a)
 		lan_mac=$(macaddr_add "$wan_mac" 1)
 		;;
-	*mt2500*|\
+	*mt2500*)
+		wan_mac=$(get_mac_binary /dev/mmcblk0boot1 0x0a)
+		lan_mac=$(macaddr_add "$wan_mac" 1)
+		;;
 	*xe3000*|\
 	*x3000*)
-		wan_mac=$(get_mac_binary /dev/mmcblk0boot1 0x0a)
+		wan_mac=$(get_mac_binary /dev/mmcblk0p3 0x0a)
 		lan_mac=$(macaddr_add "$wan_mac" 1)
 		;;
 	esac
-- 
2.7.4

