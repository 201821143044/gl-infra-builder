From 6f21a2ddac8b7896cb4c59386ea0810d603fc1ba Mon Sep 17 00:00:00 2001
From: gl-dengxinfa <xinfa.deng@gl-inet.com>
Date: Mon, 14 Nov 2022 12:20:10 +0800
Subject: [PATCH] fix: add wpa_supplicant init

---
 .../base-files/files/etc/init.d/wpa_supplicant    | 15 +++++++++++++++
 1 file changed, 15 insertions(+)
 create mode 100755 openwrt-18.06/package/base-files/files/etc/init.d/wpa_supplicant

diff --git a/openwrt-18.06/package/base-files/files/etc/init.d/wpa_supplicant b/openwrt-18.06/package/base-files/files/etc/init.d/wpa_supplicant
new file mode 100755
index 000000000..7e671bce0
--- /dev/null
+++ b/openwrt-18.06/package/base-files/files/etc/init.d/wpa_supplicant
@@ -0,0 +1,15 @@
+#!/bin/sh /etc/rc.common
+# Copyright (C) 2008 OpenWrt.org
+
+START=98
+STOP=10
+
+USE_PROCD=1
+
+start_service() {
+	mkdir -p /var/run/wpa_supplicant
+
+        procd_open_instance
+        procd_set_param command wpa_supplicant -g /var/run/wpa_supplicant/global
+        procd_close_instance
+}
-- 
2.34.1

